<!DOCTYPE html>
<html lang="de">

<!--ideen: Balkendiagramm, Schließen Button, Animationen-->

    <meta charset="UTF-8">  

    <style>
        .rectangle{
            font-family:'Arial';
            background-color: #96d4e9;
            width:310px;
            height:150px;
            border:2px solid black;
            border-radius:15px;
            text-align: center;
            display:flex;
            flex-direction: column;
            justify-content: center;
        }

        .modal{
            display:none; /* standard versteckt */
            position:fixed; 
            z-index: 1; /* über allen anderen Inhalten */
            top: 50%;  /* zentriert */
            border:2px solid black;
            border-radius:15px;
            text-align: center;
            flex-direction: column;
            justify-content: center;
            width: 310px; /* volle Breite */
            height: 90px; /* volle Höhe */ 
            overflow: auto; /* falls nötig, scrollen */
            background-color: rgb(255, 255, 255); /* Schwarz mit Transparenz */
        }

        


    </style>
    
    <body style="text-align:center;display:flex; justify-content:center; align-items:center;flex-direction:column;">

        <div class="rectangle">
            <h1 style="margin:0;">Stimmungszähler</h1>           
            <span >Klicke auf die Smileys, um mir deine Stimmung mitzuteilen!</span>             
        </div>

        <br>

        <div class="rectangle" style="height:85px;display:inline-block;">
            <button style="border:none; background-color:rgb(0,0,0,0.0)" onclick="increaseCount_pos()"><div class="smiley" style="font-size: 70px;">&#128515</button>         
            <button style="border:none; background-color:rgb(0,0,0,0.0)" onclick="increaseCount_neutral()"><div class="smiley" style="font-size: 70px;">&#128528</button>
            <button style="border:none; background-color:rgb(0,0,0,0.0)" onclick="increaseCount_neg()"><div class="smiley" style="font-size: 70px;">&#128577</button>
            
        </div>

        <br>
        
        
        <button id="show_statistics_button" class="rectangle" style="height:30px">Statistik anzeigen</button>
        

        <br>
        
        <div id="statistics_modal" class="counter modal" style="font-family:Arial;display:flex">
            <div>
            Counter für Positiv: <span id="count_pos" style="display:inline-block">0</span> (<span id="procent_pos" style="display:inline-block">0%</span>)
            </div>

            <div>
            Counter für Neutral: <span id="count_neutral" style="display:inline-block">0</span> (<span id="procent_neutral" style="display:inline-block">0%</span>)
            </div>

            <div>
            Counter für Negativ: <span id="count_neg" style="display:inline-block">0</span> (<span id="procent_neg" style="display:inline-block">0%</span>)
            </div>

            <div>
                Counter Gesamt: <span id="count_total" style="display:inline-block">0</span> (<span id="procent_total" style="display:inline-block">0%</span>)
            </div>
        </div>

        <script>
            let count_pos = 0;
            let count_neutral = 0;
            let count_neg = 0;
            let count_total = 0;
            let procent_pos = 0;
            let procent_neutral =0;
            let procent_neg = 0;
            let procent_total = 0;

            function updateCount(){
                document.getElementById("count_pos").innerHTML = count_pos;
                document.getElementById("count_neutral").innerHTML = count_neutral;
                document.getElementById("count_neg").innerHTML = count_neg;
                document.getElementById("count_total").innerHTML = count_total;
            }

            function updateProcent(){
                document.getElementById("procent_pos").innerHTML = Math.round(procent_pos) + "%";
                document.getElementById("procent_neutral").innerHTML = Math.round(procent_neutral) + "%";
                document.getElementById("procent_neg").innerHTML = Math.round(procent_neg) + "%";
                document.getElementById("procent_total").innerHTML = procent_total+ "%";
            }

            function increaseCount_pos() {
                count_pos++;
                count_total=count_pos + count_neutral + count_neg;
                updateCount();
                procentChange_pos();
                procentChange_neutral();
                procentChange_neg();
                procentChange_total();
                }           

            function increaseCount_neutral() {
                count_neutral++;
                count_total=count_pos + count_neutral + count_neg;
                updateCount();
                procentChange_pos();
                procentChange_neutral();
                procentChange_neg();
                procentChange_total();
                }           

            function increaseCount_neg() {
                count_neg++;
                count_total=count_pos + count_neutral + count_neg;
                updateCount();
                procentChange_pos();
                procentChange_neutral();
                procentChange_neg();
                procentChange_total();
                }           

            function procentChange_pos(){
                if(count_total > 0) procent_pos = (count_pos / count_total) * 100;
                else procent_pos = 0;
                procent_total = 100;
               updateProcent();
            }

            function procentChange_neutral(){
                if(count_total > 0) procent_neutral = (count_neutral / count_total) * 100;
                else procent_neutral = 0;
                procent_total = 100;
            updateProcent();
            }

            function procentChange_neg(){
                if(count_total > 0) procent_neg = (count_neg / count_total) * 100;
                else procent_neg = 0;
                procent_total = 100;
            updateProcent();
            }

            function procentChange_total(){
                procent_total = 100;
            }  

            var modal = document.getElementById("statistics_modal");
            var btn = document.getElementById("show_statistics_button");

            btn.onclick = function(){
                modal.style.display = "block"; // Zeig das Modal
            }

           document.getElementById("statistics_modal").style.display = "flex";
           document.getElementById("statistics_modal").style.display = "none";
    
        </script>

    </body>
</html>